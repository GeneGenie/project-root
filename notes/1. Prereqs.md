тема "Постпроцессинг JS библиотек: жизнь после программирования" 
этот курс я хочу посвятить тому, как живут в продакшене  коммерческие JS библиотеки. 
Какие острые углы есть в этой теме: 
оптимизация кода - 
производительность (размер, сеть, CPU), 
размер (ceть CPU, стоимость отгрузки), 
кроссбраузерность, 
безопасность
в контекста баласа между UX и коммерческими интересами (сложность поддержки супер оптимизированных решений).

Каждая из этих тем - требует постепенного развития проекта с проблемами и возможными решениями, отсмотром матрицы за и против. 

в рамках курса я хочу создать пример проекта, 
на базе которого можно будет создавать другие проекты с учетом обсуждаемых в рамках курса ограничений.

в конце мы получим "фреймворк" или скорее манифест по управлению проектами с JS библиотеками. 
Оценим влияние ОСНОВНЫЪ требований бизнеса на процесс разработки и поддержки. и поиск сбалансированных подходов к решению проблем.
Оценка каждой проблемы долна включать: 
    + и - для конечного пользователя
    + и - в поддержке проекта  сокращение времени на понимание проекта, сокращение времени на оценку производительности приложения 
    + и - в области финансовых затрат на поддержку И разработку

в этом курсе я хотел бы раскрыть такие темы: 
1. Организация кода в проекте: html, модули, библиотеки 
   2. Инструменты разработки: 
      3. девсервер -
      4. автозапуск - 
      5. автообновление - livereload
      6. отладка - chrome dev tools
      7. сборка  - rollup 
      8. зачистка папки сборки -   clear
      8. npm зависимости - nodeResolve
      8. отладка - sourcemaps
      9. path aliasing  (@/modules)
      9. минификация - terser
         10. оптимизация - обзор кода и бандла в контексте tree shaking
      11. сепарация дев / прод окружений 
          12. обзор возможной организации конфигураций 
              13. настледования rollup.config файлов 
              14. работа в одном файле с разными output и разными наборами плагинов 
      15. запуск рабочего окружения с вариативностью плагинов
          16. npm scripts | gulp 
          17. запуск параллельных задач (npm-run-all | gulp)
      10. отладка в браузере на продакшене (manual source maps)
      11. добавляем репорт по размеру сборки (visualizer) + custom logger
      12. разрабатываем ГИТ процесс для сравнения размера сборки между ветками или коммитами. для самокотроля. 

11. Делаем фичи и знакомимся с проблемами
    12. сбор MVC метрик
    13. отправка метрик на сервер
    14. создание тестового сервера ? - express
    14. рефакторинг 
        15. подготовка к юнит тестированию
    16. юнит тестирование
        17. Полемика: в каком окружении тестировать ?
            18. обзор процесса предкомпиляция тестов
        18. кроссбраузерное тестирование
        19. интеграционное тестирование
        20. моки и стабы, тестирование апи на стабах или фикстурах
        21. code coverage (instanbul) reporting?
    21. Архитектурные изменения кода для тестрируемости ( в ESM архитектуре)
        22. 

11. Добавляем логирование в консоль
    12. Наблюдаем проблему что логи теперь не ссылаются на нужный код в консоли. 
        13. Обсуждаем как с этой проблемой жить дальше, потому что она не разрешима в принципе.
    12. оценка влияния логирования на размер сборки 
        13. обзор решений по логированию 
            14. обзор решений по логированию в продакшене 
                15. обзор решений по логированию в продакшене с учетом безопасности
    16. localStorage | queryParams | cookies | indexedDB | public method для включения логов 
        17. обзор производительности 
    18. кешируем обращения к локал сторедж
    19. делаем уровни логирования 
    20. делаем опциональную компиляцию двух прод сборок с логами и без
        21. жаркая полемика: обсуждаем дебаггинг модульных сборок в браузере
            22. действительно ли правильные сорс мапы мы вставляем ?
        21. обзор решений по логированию в продакшене с учетом безопасности
        22. dot-env для управления компиляцией логов
            23. выносим урл для трекера в ENV
                23. проблема с типами (дот енв только строки вставляет)
        23. rollup-replace  для решения проблемы с форматированием?

12. Оценка качества кода и автоматическое форматирование 
    14. интеграция prettier
        15. конфиг
        16. интеграция prettier c  IDE 
    13. интеграция eslint, поиск best practise для библиотек.
        18. обзор проблемы eslint + prettier 
        19. интеграция eslint c prettier / IDE
    20. валидация глобальных переменных из ENV
    20. пишем собственное ESLINT правило для енфорсинга присутствия ENV флага перед логированием 
    21. тестируем собственное правило
    22. внедряем правило как локальнй плагин
    22. не забываем реиснталить плагин
    
           
12. Модульность
    13. Воспроизволдим проблему с опциональной компиляцией модулей, обсуждаем несколько решений 
    14. обзор решений по модульности 
        15. обзор решений по модульности в продакшене 
        16. приводим схему зависимостей процессов в линейном виде, обсуждаем проблемы и решения
            17. паралеллизация и зависимость процессов на уровне модулей. 
        16. самостоятельно пишем asyncHooks для модульности.
        17. делаем акцент на очередности выполнения модулей и их зависимостей
    17. eslint правила для енфорсинга експорта интерфейса моудулей в рамках одной директории
    21. жаркая полемика: оценка модульной архитектуры в контексте дебага на продакшене
        22. действительно ли правильные сорс мапы мы вставляем ?

19. Фича: делаем ENV-конфигурируемый модуль для дебаунсинга отправки метрик на сервер
    20. дебаунсим отправку, собираем метрики в кеш
        21. меняем логику фикстур и тестов ? 
        22. пытаемся реализовать это модулем
    23. опциональная компиляция модулей, что предлагает rollup? 
    24. кастомные решение с виртуальными импортами? 
    25. env based imports ? 


26. деплой 
    27. обзор файл хостингов с апи и без / или собственный nginx сервер / cloud flare 
        28. обсуждаем опенсорсный jsdelivr в контексте коммерческой разработки.  
    27. организация скриптов для деплоя на выбранный хостинг
    28. деплой через CI/CD gitlab 
    29. версионирование
        30. версия релиза в сборке
        31. версия релиза в пути к файлу
        32. организация поддержки latest / stable версий
    32. кешбрейкинг
        33. девтулз  - disable cache 
        33. квери параметры 
        34. заголовки от сервера 
        35. заголовки от клиентов 
            36. старые браузеры 
        37. path cache breaking 
            38. проблема с кешированием файлов на будушее. 
        39. поиск сбланасированныз решений 
    40. откат версий
    41. https сертфиикация / WL 

    
27. логирование и трекинг ошибок
    28. логирование событий
    29. мониторинг событий 
        31. организация мониторнга
        30. хранение истории - node-exporter ? 
        31. grafana ?
        32. алертинг
            33. жаркая полемика об бизнес необходимости алертинга
    28. скоуп: библиотека или страница. 
    29. репортинг событий
    31. репортинг логов сессии 
    32. репортинг окружения - ua, ip, location
    30. просмотр логов
        31. полимика на тему:  влияние логов на размер сборки и прозводительность
            32. тред: оценка стоимости логов в продакшене

32. Делаем просмотр логов в графическом формате менеджером
    33. при вызове метода должна повлятся панель с логами
    33. обсуждение подходов: 
        34. включение логов в сборку по умолчанию
            35. увеличение сборки 
        35. учим менеджера подменять скрипт на сборку с логами
            36. тяжело работать с людьми и надо учить и писать доку
        36. lazy loading модуля логов но только при наличии определенного параметра в ENV или localStorage
            37. lazy loading меняет логику тестирования
            38. lazy loading меняет логику деплоя с одного файла на папку 
                39. обработка сорс мапов 
                40. обработка чанков 
    41. включение html + scss в  JS в бандл или в отдельный файл
        42. оптимизация размеров
        43. минификация классов, связь CSS классов с модулями
    44. мастер класс - хукаем глобальные обьекты 
        45. пытаемся понять есть ли уже на сайте сборщики CWV метрик
 
33. Деплой: защита сорсмапов
    34. не деплоим сорсмапы 
        35. Минус:  разработчики руками должны подгружать сорс мапы  
        36. Минус: в модульной архитектуре разработчик должен сгененрировать такой же бандл с такими же модулями в том же порядке
    36. деплоим сорсмапы на сервер но ограничиваем доступ по ВПН 
        37. Минус:  дополнительный постпроцессинг при сборке для вырезания ссылки на сорсмапы
        38. Минус: системное ограничения на сервинг сорсмапов
            39. потецниальные ошибки в консоли для пользователей/разработчиков сайтов.

34. Автоматизация
    35. CI / CD gitlab / github 

36. Nodejs express
    37. обработка метрик ?
    37. cors    
    38. 
    

35. Build Server Under CDN structure. 
    38. предоставление методов для сборки. 
    36. кеширование собранных библиотек 
    37. подход к встраиванию пользовательских параметров.
    38. защита sourcemaps

36. Public api for init 
    37. separate entry point for constructor 
    38. debate:  queue as loading guarantee vs JS load awaiting 
37. GDPR 
    38. ограничение отправки данных и логрирования для GDPR пользователей в вебе. 

38. оценка CWV импакта нашей библиотеки 
    39. знакомство с метриками
    40. определяем то на что мы можем влиять. 
        39. играемся с async / defer 

39. Добавляем возможности для АБ тестирования. в разной конфигурации модулей?!
    40. canarying

40. Инструмены для самокотроля 
    41. прекомит хуки, запускаем линт и тесты (husky)
    42. прокомит хуки валидируем сообщение коммита на соответствие шаблону (формат тикета) 

38. Mangling 
    39. Осмотр манглинка методов класса, проперти обьекта 
40. mangling function args 
    41. typescript/jsdoc helping mangling 
    42. mangling public props with consistency 
    43. protecting public apis from mangling 
        40. рассматриваем разницу между пропертями внешними и внутренними 
        41. рассматриваем необзходимые изменения в коде для поддержки манглинга 
        42. оцениваем ухудшения DX в контексте манглинга
        43. оцениваем баланс DX и производительности с точки зрения бизнеса и еффективности разработки.

39. Polyfilling
    40. babeL? polyfill.io?
    37. експерименты с процентами и размерами
    37. Пересмотр размеров сборки с учетом результатов експериметнов

40. Profiling
    41. лекция - когда нужно начинать профайлинг. 
        41. load speed 
        42. memory and cpu processing 
        43. 


20. Финал 
    21. обзор фич, проблем и решений
    22. обзор рынка и конкурентов среди фреймворков(Vite) 
        23. полемика как можно было избежать проделанной нами работы изучив ресурсы в интернете. 
        23. полемика насчет подбора инструментов и подходов необзодимых для разработки на базе требований КОНКРЕТНОГО проекта. 
